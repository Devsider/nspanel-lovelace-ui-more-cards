+++ /dev/fd/62	2022-09-18 12:42:04.807862862 +0000
+geIcons.txt
+5 +15,15 @@
+ Scope         : global
+ Text          : 
+ Max. Text Size: 15
+
+e (string) vaDate
+ributes
+ Scope         : global
+ Text          : 
+ Text          :  
+ Max. Text Size: 35
+
+mp1
+ributes
+ Scope                               : global
+ Dragging                            : 0
+ Disable release event after dragging: 0
+geTest.txt
+ +9,15 @@
+ Swide down page ID                  : disabled
+ Swide left page ID                  : disabled
+ Swide right page ID                 : disabled
+
+nts
+ Preinitialize Event
+     vis p0,0
+     recmod=1
+     bauds=115200
+ 
+e (string) tInstruction
+ributes
+ Scope         : local
+ Text          : 
+ Max. Text Size: 30
+
+e (string) strCommand
+ributes
+ Scope         : local
+ Text          : 
+ Max. Text Size: 20
+
+e (string) tSend
+ributes
+ Scope         : local
+ Text          : 
+ Max. Text Size: 40
+
+ench
+ributes
+ Scope                               : local
+ Dragging                            : 0
+ Disable release event after dragging: 0
+ Send Component ID                   : disabled
+ Associated Keyboard                 : none
+ Text                                : 
+ Max. Text Size                      : 20
+
+ p0
+ributes
+ Scope                               : local
+ Dragging                            : 0
+ Disable release event after dragging: 0
+ Send Component ID                   : disabled
+
+100 +186,7 @@
+ Text                                : qr
+ Max. Text Size                      : 10
+
+nts
+ Touch Press Event
+     page cardQR
+ 
+b12
+ributes
+ Scope                               : local
+ Dragging                            : 0
+ Disable release event after dragging: 0
+ Send Component ID                   : disabled
+ State                               : unpressed
+ Text                                : power
+ Max. Text Size                      : 10
+
+nts
+ Touch Press Event
+     page cardPower
+ 
+mSerial
+ributes
+ Scope      : local
+ Period (ms): 50
+ Enabled    : yes
+
+nts
+ Timer Event
+     // data available
+     if(usize>1)
+     {
+         bufferPos=0
+         while(bufferPos<usize)
+         {
+             // check for 0x55 0xBB - Command Init Secuence
+             if(u[bufferPos]==187&&u[bufferPos-1]==85)
+             {
+                 //remove garbage at the start of the buffer if there's any to free buffer for command
+                 if(u[bufferPos]!=1)
+                 {
+                     udelete bufferPos-1
+                 }
+                 //instruction is now aligned with buffer, because we deleted garbage before instrcution
+                 //get length after init sequence (check if there are more than to bytes in buffer)
+                 if(3<usize)
+                 {
+                     // check if serial buffer has reached the announced length
+                     ucopy payloadLength,2,2,0
+                     // we are only checking payload length so we have to skip first 3 bytes (init+payload length) (-1 because of < instead of <=)
+                     payloadLength+=3
+                     // payload length does also not contain crc, so we are adding another 2 bytes for crc
+                     payloadLength+=2
+                     if(payloadLength<usize)
+                     {
+                         // calculate crc
+                         crcrest 1,0xFFFF
+                         // u[2] contains payload legth at 3rd pos in buffer, we are calculating crc from 3rd pos with number of bytes from payload length
+                         //crcputu 3,u[2]
+                         // u[2] cotnains payload length, we are calculating a crc over the whole message, so we have to add 3 to the length from u[2]
+                         crcputu 0,payloadLength-1
+                         // get recived crc to be able to compare it
+                         ucopy recvCrc,payloadLength-1,2,0
+                         // compare crc with recived value
+                         if(crcval==recvCrc)
+                         {
+                             // crc is okay
+                             // here is the location where acual code should be
+                             // write command to variable strCommand
+                             ucopy strCommand.txt,4,payloadLength-5,0
+                             // write instruction to tInstuction (debug output, but used as variable here, ui elements will be disabled by default)
+                             spstr strCommand.txt,tInstruction.txt,"~",0
+                             if(tInstruction.txt=="ping")
+                             {
+                                 spstr strCommand.txt,tBench.txt,"~",1
+                                 tSend.txt="pong,"+tBench.txt
+                                 //send calc crc
+                                 btlen tSend.txt,sys0
+                                 crcrest 1,0xffff // reset CRC
+                                 crcputh 55 bb
+                                 crcputs sys0,2
+                                 crcputs tSend.txt,0
+                                 //send cmd
+                                 printh 55 bb
+                                 prints sys0,2
+                                 prints tSend.txt,0
+                                 prints crcval,2
+                             }
+                             // end of user code
+                             udelete payloadLength-1
+                             bufferPos=0
+                         }
+                     }
+                 }
+             }
+             // next character
+             bufferPos++
+         }
+     }
+
+reensaver.txt
+5 +71,15 @@
+ime
+ributes
+ Scope                               : local
+ Dragging                            : 0
+ Disable release event after dragging: 0
+ Send Component ID                   : disabled
+ Associated Keyboard                 : none
+ Text                                : 21:32   
+ Text                                : 21:32
+ Max. Text Size                      : 15
+
+ate
+ributes
+ Scope                               : local
+ Dragging                            : 0
+ Disable release event after dragging: 0
